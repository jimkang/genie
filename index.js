!function t(e,n,r){function o(u,a){if(!n[u]){if(!e[u]){var c="function"==typeof require&&require;if(!a&&c)return c(u,!0);if(i)return i(u,!0);var l=new Error("Cannot find module '"+u+"'");throw l.code="MODULE_NOT_FOUND",l}var s=n[u]={exports:{}};e[u][0].call(s.exports,function(t){var n=e[u][1][t];return o(n||t)},s,s.exports,t,e,n,r)}return n[u].exports}for(var i="function"==typeof require&&require,u=0;u<r.length;u++)o(r[u]);return o}({1:[function(t,e,n){e.exports={Decay:function({lifeSpan:t}){return function(e,n,r){if("empty"!==e.type&&!isNaN(e.age)&&e.age>t)return r(e,"empty"),{instigator:e.id,source:[e.id],target:[e.id],event:"death",details:"decayed at age "+e.age}}}}},{}],2:[function(t,e,n){function r(t){var e=t.cellDefSrc||w,n=O();n.defer(l,{rules:m,adjustableRules:_,templateSrc:e}),n.defer(x,t.mapSrc),n.await(j(o,g))}function o(t,e){var n,r=a({cellMap:e,cellDefs:t,orderingFn:s(c)({col:0,row:0})});!function({onStep:t,onGeneration:e}){h.select("#step-button").on("click",t),h.select("#generation-button").on("click",e)}({onStep:function(){var t=r.step();n=t.concat(n),console.log(r.getMap()),i({cells:r.getCells(),logs:n,latestLogs:t})},onGeneration:function(){var t=r.generationStep();n=f(t).concat(n),v({cells:r.getCells()}),console.log(r.getMap()),i({cells:r.getCells(),logs:n,latestLogs:t})}}),v({cells:r.getCells()})}function i({cells:t,logs:e,latestLogs:n}){var r,o,i;n.length>0&&(r=n[0].instigator,o=d(f(f(p(n,"sources")))),i=d(f(f(p(n,"targets"))))),v({cells:t,instigatorId:r,sourceIds:o,targetIds:i}),y({logs:e})}function u(t,e,n,r,o){g(o)}var a=t("cellular-automaton"),c=t("sort-cells-by-dist"),l=t("./load-cell-defs"),s=t("lodash.curry"),f=t("lodash.flatten"),p=t("lodash.pluck"),d=t("lodash.compact"),h=t("d3-selection"),v=t("./dom/render-cells"),y=t("./dom/render-logs"),g=t("handle-error-web"),b=t("route-state"),m=t("./rules"),_=t("./adjustable-rules"),w=t("./data/basic-cell-templates.json"),j=t("standard-bail")(),x=t("./get-map"),O=t("d3-queue").queue;!function(){window.onerror=u;b({followRoute:r,windowObject:window}).routeFromHash()}()},{"./adjustable-rules":1,"./data/basic-cell-templates.json":3,"./dom/render-cells":4,"./dom/render-logs":5,"./get-map":6,"./load-cell-defs":7,"./rules":55,"cellular-automaton":12,"d3-queue":16,"d3-selection":17,"handle-error-web":18,"lodash.compact":32,"lodash.curry":33,"lodash.flatten":37,"lodash.pluck":44,"route-state":51,"sort-cells-by-dist":52,"standard-bail":53}],3:[function(t,e,n){e.exports={o:{mapSymbol:"o",type:"person",takesSpace:!0,nutrition:3,living:!0,rules:["aging","eating","metabolism","starvation","poops"]},x:{mapSymbol:"x",type:"empty",takesSpace:!1,living:!1,rules:["populate","fertilization"]},p:{mapSymbol:"p",type:"poo",takesSpace:!0,living:!1,rules:["aging",{rule:"Decay",params:{lifeSpan:3}},"fertilization"]},m:{mapSymbol:"m",type:"meat",takesSpace:!0,living:!1,rules:["aging",{rule:"Decay",params:{lifeSpan:2}}]},v:{mapSymbol:"v",type:"plant",takesSpace:!0,living:!0,rules:["aging",{rule:"Decay",params:{lifeSpan:4}}]}}},{}],4:[function(t,e,n){function r(t){return"empty"===t.type?"hidden":"visibility"}function o(t){return`translate(${t.col*s}, ${t.row*s})`}function i(t){return l[t.type]}var u=t("d3-selection"),a=t("accessor")(),c=t("csscrown")({crownClass:"instigator"}),l={person:"🚶",poo:"💩",meat:"🍖",plant:"🌿"};const s=100;var f=u.select("#cells-root");e.exports=function({cells:t,instigatorId:e,sourceIds:n,targetIds:u}){var l=f.selectAll(".cell").data(t,a());l.exit().remove();var p=l.enter().append("g").classed("cell",!0).attr("id",a()).attr("transform",o);p.append("text").classed("symbol",!0).attr("alignment-baseline","middle").attr("x",s/2).attr("y",s/2).attr("dy",s/10),p.append("rect").attr("width",s).attr("height",s).classed("frame",!0);var d=p.merge(l);d.select(".symbol").attr("visibility",r).text(i),d.select(".frame").classed("target",function(t){return u&&-1!==u.indexOf(t.id)}).classed("source",function(t){return n&&-1!==n.indexOf(t.id)}),e&&c(document.getElementById(e))}},{accessor:8,csscrown:15,"d3-selection":17}],5:[function(t,e,n){function r(t){return JSON.stringify(t,null,2)}var o=t("d3-selection").select("#logs-root");e.exports=function({logs:t}){var e=o.selectAll(".log").data(t);e.exit().remove();var n=e.enter().append("li").classed("log",!0);n.append("pre"),n.merge(e).select("pre").text(r)}},{"d3-selection":17}],6:[function(t,e,n){var r=t("basic-browser-request"),o=t("./rote-response"),i=t("call-next-tick");const u="\n      xoxxxvxxx\n      xxmxxxxoxx\n      moxxo\n      xxovpxxxxx\n      oxvxo\n    ";e.exports=function(t,e){t?r({url:t,method:"GET"},o({url:t,done:e})):i(e,null,u)}},{"./rote-response":54,"basic-browser-request":9,"call-next-tick":10}],7:[function(t,e,n){var r=t("basic-browser-request"),o=t("call-next-tick"),i=t("./rote-response");e.exports=function({rules:t,adjustableRules:e,templateSrc:n},u){function a(t){var e={};for(var n in t){let r=t[n];r.rules=r.rules.map(c),e[n]=r}return e}function c(n){return"string"==typeof n?t[n]:"object"==typeof n?(0,e[n.rule])(n.params):void 0}"object"==typeof n?o(u,null,a(n)):"string"==typeof n?r({url:n,method:"GET",json:!0},i({url:n,transformBody:a,done:u})):o(u,new Error("Do not understand templateSrc: "+n))}},{"./rote-response":54,"basic-browser-request":9,"call-next-tick":10}],8:[function(t,e,n){function r(){var t={identity:o};return function(e,n){var r,o="id";if(void 0===n&&(r=t[e]),r)return r;e&&(o="string"==typeof e?e:""+e);var i=function(t,e){return function(n){if("object"==typeof n){var r=n[t];return void 0===r?e:n[t]}return e}}(o,n);return void 0!==n&&(t[o]=n),i}}function o(t){return t}"object"==typeof e&&"object"==typeof e.exports&&(e.exports=r)},{}],9:[function(t,e,n){if("object"==typeof e&&"object"==typeof e.exports){var r={makeRequest:function(t,e){function n(){i.abort(),clearTimeout(a),e()}function r(){3===i.readyState&&(t.onData(this.responseText.substr(c)),c=this.responseText.length)}var o=t.json||"application/json"===t.mimeType,i=new XMLHttpRequest;if(i.open(t.method,t.url),t.mimeType&&i.setRequestHeader("content-type",t.mimeType),o&&i.setRequestHeader("accept","application/json"),"object"==typeof t.headers)for(var u in t.headers)i.setRequestHeader(u,t.headers[u]);t.binary&&(i.responseType="arraybuffer"),o&&"object"==typeof t.body&&(t.body=JSON.stringify(t.body));var a=null;i.onload=function(){clearTimeout(a);var n={statusCode:this.status,statusMessage:i.statusText,responseURL:i.responseURL,rawResponse:i.response,xhr:i};if(t.binary)e(null,n,i.response);else{var r=this.responseText;if(o)try{r=JSON.parse(r)}catch(t){n.jsonParseError=t}e(null,n,r)}};var c=0;return t.onData&&(i.onreadystatechange=r),i.onerror=function(){var t=new Error("There is a problem with the network.");t.name="XHR network error",e(t)},i.send(t.formData||t.body),t.timeLimit>0&&(a=setTimeout(n,t.timeLimit)),{url:t.url,cancelRequest:n}}};e.exports=r.makeRequest}},{}],10:[function(t,e,n){(function(t){e.exports=function(){var e,n,r,o=arguments.length;if(!(o>0))throw new Error("No callback provided to callNextTick.");e=arguments[0],n=new Array(o-1);for(var i=1;i<o;++i)n[i-1]=arguments[i];r=function(t,e){return function(){t.apply(t,e)}}(e,n),t.nextTick(r)}}).call(this,t("_process"))},{_process:45}],11:[function(t,e,n){function r(t,e,n){e[n]=o(t[n])}var o=t("lodash.clonedeep"),i=t("lodash.curry");e.exports=function(t,e){Object.getOwnPropertyNames(t).forEach(i(r)(t,e))}},{"lodash.clonedeep":31,"lodash.curry":33}],12:[function(t,e,n){function r(t){return t.join("")}var o=t("./instantiate-cells"),i=t("lodash.findwhere"),u=t("lodash.curry"),a=t("lodash.compact"),c=t("./apply-def-to-cell");e.exports=function({cellMap:t,cellDefs:e,orderingFn:n}){function l(){var t=d[h[v]],e=t.rules.map(u(s)(t));return(v+=1)>=h.length&&(v=0,y+=1),e}function s(t,e){var n=e(t,function(t){return a([i(d,{col:t.col-1,row:t.row-1}),i(d,{col:t.col,row:t.row-1}),i(d,{col:t.col+1,row:t.row-1}),i(d,{col:t.col+1,row:t.row}),i(d,{col:t.col+1,row:t.row+1}),i(d,{col:t.col,row:t.row+1}),i(d,{col:t.col-1,row:t.row+1}),i(d,{col:t.col-1,row:t.row})])}(t),f);return n||{instigator:t.id,sources:[t.id],event:"idle"}}function f(t,e){c(p[e],t)}var p=function(t){var e={};for(var n in t){let r=t[n];e[r.type]=r}return e}(e),d=o({cellMap:t,cellDefs:e}),h=n(d),v=0,y=0;return{getCells:function(){return d},getMap:function(){var t=[];return d.forEach(function(e){e.row>=t.length&&(t[e.row]=[]),t[e.row][e.col]=e.mapSymbol}),t.map(r).join("\n")},step:l,generationStep:function(){for(var t=[],e=y+1;y<e;)t.push(l());return t}}}},{"./apply-def-to-cell":11,"./instantiate-cells":13,"lodash.compact":32,"lodash.curry":33,"lodash.findwhere":36}],13:[function(t,e,n){var r=t("./parse-cell-map"),o=t("./apply-def-to-cell");e.exports=function({cellMap:t,cellDefs:e}){for(var n=[],i=r(t),u=0;u<i.length;++u)for(var a=i[u],c=0;c<a.length;++c)n.push(function(t,n,r){var i={col:n,row:r,id:"cell_"+n+"_"+r};return o(e[t],i),i}(a[c],c,u));return n}},{"./apply-def-to-cell":11,"./parse-cell-map":14}],14:[function(t,e,n){e.exports=function(t){for(var e=[],n=t.trim().split("\n"),r=0;r<n.length;++r)e.push(n[r].trim().split(""));return e}},{}],15:[function(t,e,n){e.exports=function(t){var e;t&&(e=t.crownClass);var n;return function(t){n&&n.classList.remove(e),t&&(n=t).classList.add(e)}}},{}],16:[function(t,e,n){!function(t,r){"object"==typeof n&&void 0!==e?r(n):"function"==typeof define&&define.amd?define(["exports"],r):r(t.d3=t.d3||{})}(this,function(t){"use strict";function e(t){this._size=t,this._call=this._error=null,this._tasks=[],this._data=[],this._waiting=this._active=this._ended=this._start=0}function n(t){if(!t._start)try{!function(t){for(;t._start=t._waiting&&t._active<t._size;){var e=t._ended+t._active,i=t._tasks[e],u=i.length-1,c=i[u];i[u]=function(t,e){return function(i,u){t._tasks[e]&&(--t._active,++t._ended,t._tasks[e]=null,null==t._error&&(null!=i?r(t,i):(t._data[e]=u,t._waiting?n(t):o(t))))}}(t,e),--t._waiting,++t._active,i=c.apply(null,i),t._tasks[e]&&(t._tasks[e]=i||a)}}(t)}catch(e){if(t._tasks[t._ended+t._active-1])r(t,e);else if(!t._data)throw e}}function r(t,e){var n,r=t._tasks.length;for(t._error=e,t._data=void 0,t._waiting=NaN;--r>=0;)if((n=t._tasks[r])&&(t._tasks[r]=null,n.abort))try{n.abort()}catch(e){}t._active=NaN,o(t)}function o(t){if(!t._active&&t._call){var e=t._data;t._data=void 0,t._call(t._error,e)}}function i(t){if(null==t)t=1/0;else if(!((t=+t)>=1))throw new Error("invalid concurrency");return new e(t)}var u=[].slice,a={};e.prototype=i.prototype={constructor:e,defer:function(t){if("function"!=typeof t)throw new Error("invalid callback");if(this._call)throw new Error("defer after await");if(null!=this._error)return this;var e=u.call(arguments,1);return e.push(t),++this._waiting,this._tasks.push(e),n(this),this},abort:function(){return null==this._error&&r(this,new Error("abort")),this},await:function(t){if("function"!=typeof t)throw new Error("invalid callback");if(this._call)throw new Error("multiple await");return this._call=function(e,n){t.apply(null,[e].concat(n))},o(this),this},awaitAll:function(t){if("function"!=typeof t)throw new Error("invalid callback");if(this._call)throw new Error("multiple await");return this._call=t,o(this),this}},t.queue=i,Object.defineProperty(t,"__esModule",{value:!0})})},{}],17:[function(t,e,n){!function(t,r){"object"==typeof n&&void 0!==e?r(n):"function"==typeof define&&define.amd?define(["exports"],r):r(t.d3=t.d3||{})}(this,function(t){"use strict";function e(){return new n}function n(){this._="@"+(++C).toString(36)}function r(t,e,n){return t=o(t,e,n),function(e){var n=e.relatedTarget;n&&(n===this||8&n.compareDocumentPosition(this))||t.call(this,e)}}function o(e,n,r){return function(o){var i=t.event;t.event=o;try{e.call(this,this.__data__,n,r)}finally{t.event=i}}}function i(t){return function(){var e=this.__on;if(e){for(var n,r=0,o=-1,i=e.length;r<i;++r)n=e[r],t.type&&n.type!==t.type||n.name!==t.name?e[++o]=n:this.removeEventListener(n.type,n.listener,n.capture);++o?e.length=o:delete this.__on}}}function u(t,e,n){var i=$.hasOwnProperty(t.type)?r:o;return function(r,o,u){var a,c=this.__on,l=i(e,o,u);if(c)for(var s=0,f=c.length;s<f;++s)if((a=c[s]).type===t.type&&a.name===t.name)return this.removeEventListener(a.type,a.listener,a.capture),this.addEventListener(a.type,a.listener=l,a.capture=n),void(a.value=e);this.addEventListener(t.type,l,n),a={type:t.type,name:t.name,value:e,listener:l,capture:n},c?c.push(a):this.__on=[a]}}function a(){}function c(){return[]}function l(t,e){this.ownerDocument=t.ownerDocument,this.namespaceURI=t.namespaceURI,this._next=null,this._parent=t,this.__data__=e}function s(t,e,n,r,o,i){for(var u,a=0,c=e.length,s=i.length;a<s;++a)(u=e[a])?(u.__data__=i[a],r[a]=u):n[a]=new l(t,i[a]);for(;a<c;++a)(u=e[a])&&(o[a]=u)}function f(t,e,n,r,o,i,u){var a,c,s,f={},p=e.length,d=i.length,h=new Array(p);for(a=0;a<p;++a)(c=e[a])&&(h[a]=s=U+u.call(c,c.__data__,a,e),s in f?o[a]=c:f[s]=c);for(a=0;a<d;++a)(c=f[s=U+u.call(t,i[a],a,i)])?(r[a]=c,c.__data__=i[a],f[s]=null):n[a]=new l(t,i[a]);for(a=0;a<p;++a)(c=e[a])&&f[h[a]]===c&&(o[a]=c)}function p(t,e){return t<e?-1:t>e?1:t>=e?0:NaN}function d(t,e){return t.style.getPropertyValue(e)||z(t).getComputedStyle(t,null).getPropertyValue(e)}function h(t){return t.trim().split(/^|\s+/)}function v(t){return t.classList||new y(t)}function y(t){this._node=t,this._names=h(t.getAttribute("class")||"")}function g(t,e){for(var n=v(t),r=-1,o=e.length;++r<o;)n.add(e[r])}function b(t,e){for(var n=v(t),r=-1,o=e.length;++r<o;)n.remove(e[r])}function m(){this.textContent=""}function _(){this.innerHTML=""}function w(){this.nextSibling&&this.parentNode.appendChild(this)}function j(){this.previousSibling&&this.parentNode.insertBefore(this,this.parentNode.firstChild)}function x(){return null}function O(){var t=this.parentNode;t&&t.removeChild(this)}function A(t,e,n){var r=z(t),o=r.CustomEvent;"function"==typeof o?o=new o(e,n):(o=r.document.createEvent("Event"),n?(o.initEvent(e,n.bubbles,n.cancelable),o.detail=n.detail):o.initEvent(e,!1,!1)),t.dispatchEvent(o)}function S(t,e){this._groups=t,this._parents=e}function k(){return new S([[document.documentElement]],V)}var E="http://www.w3.org/1999/xhtml",N={svg:"http://www.w3.org/2000/svg",xhtml:E,xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"},T=function(t){var e=t+="",n=e.indexOf(":");return n>=0&&"xmlns"!==(e=t.slice(0,n))&&(t=t.slice(n+1)),N.hasOwnProperty(e)?{space:N[e],local:t}:t},P=function(t){var e=T(t);return(e.local?function(t){return function(){return this.ownerDocument.createElementNS(t.space,t.local)}}:function(t){return function(){var e=this.ownerDocument,n=this.namespaceURI;return n===E&&e.documentElement.namespaceURI===E?e.createElement(t):e.createElementNS(n,t)}})(e)},C=0;n.prototype=e.prototype={constructor:n,get:function(t){for(var e=this._;!(e in t);)if(!(t=t.parentNode))return;return t[e]},set:function(t,e){return t[this._]=e},remove:function(t){return this._ in t&&delete t[this._]},toString:function(){return this._}};var R=function(t){return function(){return this.matches(t)}};if("undefined"!=typeof document){var D=document.documentElement;if(!D.matches){var L=D.webkitMatchesSelector||D.msMatchesSelector||D.mozMatchesSelector||D.oMatchesSelector;R=function(t){return function(){return L.call(this,t)}}}}var F=R,$={};if(t.event=null,"undefined"!=typeof document){"onmouseenter"in document.documentElement||($={mouseenter:"mouseover",mouseleave:"mouseout"})}var q=function(){for(var e,n=t.event;e=n.sourceEvent;)n=e;return n},M=function(t,e){var n=t.ownerSVGElement||t;if(n.createSVGPoint){var r=n.createSVGPoint();return r.x=e.clientX,r.y=e.clientY,r=r.matrixTransform(t.getScreenCTM().inverse()),[r.x,r.y]}var o=t.getBoundingClientRect();return[e.clientX-o.left-t.clientLeft,e.clientY-o.top-t.clientTop]},I=function(t){return null==t?a:function(){return this.querySelector(t)}},B=function(t){return null==t?c:function(){return this.querySelectorAll(t)}},H=function(t){return new Array(t.length)};l.prototype={constructor:l,appendChild:function(t){return this._parent.insertBefore(t,this._next)},insertBefore:function(t,e){return this._parent.insertBefore(t,e)},querySelector:function(t){return this._parent.querySelector(t)},querySelectorAll:function(t){return this._parent.querySelectorAll(t)}};var U="$",z=function(t){return t.ownerDocument&&t.ownerDocument.defaultView||t.document&&t||t.defaultView};y.prototype={add:function(t){this._names.indexOf(t)<0&&(this._names.push(t),this._node.setAttribute("class",this._names.join(" ")))},remove:function(t){var e=this._names.indexOf(t);e>=0&&(this._names.splice(e,1),this._node.setAttribute("class",this._names.join(" ")))},contains:function(t){return this._names.indexOf(t)>=0}};var V=[null];S.prototype=k.prototype={constructor:S,select:function(t){"function"!=typeof t&&(t=I(t));for(var e=this._groups,n=e.length,r=new Array(n),o=0;o<n;++o)for(var i,u,a=e[o],c=a.length,l=r[o]=new Array(c),s=0;s<c;++s)(i=a[s])&&(u=t.call(i,i.__data__,s,a))&&("__data__"in i&&(u.__data__=i.__data__),l[s]=u);return new S(r,this._parents)},selectAll:function(t){"function"!=typeof t&&(t=B(t));for(var e=this._groups,n=e.length,r=[],o=[],i=0;i<n;++i)for(var u,a=e[i],c=a.length,l=0;l<c;++l)(u=a[l])&&(r.push(t.call(u,u.__data__,l,a)),o.push(u));return new S(r,o)},filter:function(t){"function"!=typeof t&&(t=F(t));for(var e=this._groups,n=e.length,r=new Array(n),o=0;o<n;++o)for(var i,u=e[o],a=u.length,c=r[o]=[],l=0;l<a;++l)(i=u[l])&&t.call(i,i.__data__,l,u)&&c.push(i);return new S(r,this._parents)},data:function(t,e){if(!t)return v=new Array(this.size()),l=-1,this.each(function(t){v[++l]=t}),v;var n=e?f:s,r=this._parents,o=this._groups;"function"!=typeof t&&(t=function(t){return function(){return t}}(t));for(var i=o.length,u=new Array(i),a=new Array(i),c=new Array(i),l=0;l<i;++l){var p=r[l],d=o[l],h=d.length,v=t.call(p,p&&p.__data__,l,r),y=v.length,g=a[l]=new Array(y),b=u[l]=new Array(y);n(p,d,g,b,c[l]=new Array(h),v,e);for(var m,_,w=0,j=0;w<y;++w)if(m=g[w]){for(w>=j&&(j=w+1);!(_=b[j])&&++j<y;);m._next=_||null}}return u=new S(u,r),u._enter=a,u._exit=c,u},enter:function(){return new S(this._enter||this._groups.map(H),this._parents)},exit:function(){return new S(this._exit||this._groups.map(H),this._parents)},merge:function(t){for(var e=this._groups,n=t._groups,r=e.length,o=n.length,i=Math.min(r,o),u=new Array(r),a=0;a<i;++a)for(var c,l=e[a],s=n[a],f=l.length,p=u[a]=new Array(f),d=0;d<f;++d)(c=l[d]||s[d])&&(p[d]=c);for(;a<r;++a)u[a]=e[a];return new S(u,this._parents)},order:function(){for(var t=this._groups,e=-1,n=t.length;++e<n;)for(var r,o=t[e],i=o.length-1,u=o[i];--i>=0;)(r=o[i])&&(u&&u!==r.nextSibling&&u.parentNode.insertBefore(r,u),u=r);return this},sort:function(t){function e(e,n){return e&&n?t(e.__data__,n.__data__):!e-!n}t||(t=p);for(var n=this._groups,r=n.length,o=new Array(r),i=0;i<r;++i){for(var u,a=n[i],c=a.length,l=o[i]=new Array(c),s=0;s<c;++s)(u=a[s])&&(l[s]=u);l.sort(e)}return new S(o,this._parents).order()},call:function(){var t=arguments[0];return arguments[0]=this,t.apply(null,arguments),this},nodes:function(){var t=new Array(this.size()),e=-1;return this.each(function(){t[++e]=this}),t},node:function(){for(var t=this._groups,e=0,n=t.length;e<n;++e)for(var r=t[e],o=0,i=r.length;o<i;++o){var u=r[o];if(u)return u}return null},size:function(){var t=0;return this.each(function(){++t}),t},empty:function(){return!this.node()},each:function(t){for(var e=this._groups,n=0,r=e.length;n<r;++n)for(var o,i=e[n],u=0,a=i.length;u<a;++u)(o=i[u])&&t.call(o,o.__data__,u,i);return this},attr:function(t,e){var n=T(t);if(arguments.length<2){var r=this.node();return n.local?r.getAttributeNS(n.space,n.local):r.getAttribute(n)}return this.each((null==e?n.local?function(t){return function(){this.removeAttributeNS(t.space,t.local)}}:function(t){return function(){this.removeAttribute(t)}}:"function"==typeof e?n.local?function(t,e){return function(){var n=e.apply(this,arguments);null==n?this.removeAttributeNS(t.space,t.local):this.setAttributeNS(t.space,t.local,n)}}:function(t,e){return function(){var n=e.apply(this,arguments);null==n?this.removeAttribute(t):this.setAttribute(t,n)}}:n.local?function(t,e){return function(){this.setAttributeNS(t.space,t.local,e)}}:function(t,e){return function(){this.setAttribute(t,e)}})(n,e))},style:function(t,e,n){return arguments.length>1?this.each((null==e?function(t){return function(){this.style.removeProperty(t)}}:"function"==typeof e?function(t,e,n){return function(){var r=e.apply(this,arguments);null==r?this.style.removeProperty(t):this.style.setProperty(t,r,n)}}:function(t,e,n){return function(){this.style.setProperty(t,e,n)}})(t,e,null==n?"":n)):d(this.node(),t)},property:function(t,e){return arguments.length>1?this.each((null==e?function(t){return function(){delete this[t]}}:"function"==typeof e?function(t,e){return function(){var n=e.apply(this,arguments);null==n?delete this[t]:this[t]=n}}:function(t,e){return function(){this[t]=e}})(t,e)):this.node()[t]},classed:function(t,e){var n=h(t+"");if(arguments.length<2){for(var r=v(this.node()),o=-1,i=n.length;++o<i;)if(!r.contains(n[o]))return!1;return!0}return this.each(("function"==typeof e?function(t,e){return function(){(e.apply(this,arguments)?g:b)(this,t)}}:e?function(t){return function(){g(this,t)}}:function(t){return function(){b(this,t)}})(n,e))},text:function(t){return arguments.length?this.each(null==t?m:("function"==typeof t?function(t){return function(){var e=t.apply(this,arguments);this.textContent=null==e?"":e}}:function(t){return function(){this.textContent=t}})(t)):this.node().textContent},html:function(t){return arguments.length?this.each(null==t?_:("function"==typeof t?function(t){return function(){var e=t.apply(this,arguments);this.innerHTML=null==e?"":e}}:function(t){return function(){this.innerHTML=t}})(t)):this.node().innerHTML},raise:function(){return this.each(w)},lower:function(){return this.each(j)},append:function(t){var e="function"==typeof t?t:P(t);return this.select(function(){return this.appendChild(e.apply(this,arguments))})},insert:function(t,e){var n="function"==typeof t?t:P(t),r=null==e?x:"function"==typeof e?e:I(e);return this.select(function(){return this.insertBefore(n.apply(this,arguments),r.apply(this,arguments)||null)})},remove:function(){return this.each(O)},datum:function(t){return arguments.length?this.property("__data__",t):this.node().__data__},on:function(t,e,n){var r,o,a=function(t){return t.trim().split(/^|\s+/).map(function(t){var e="",n=t.indexOf(".");return n>=0&&(e=t.slice(n+1),t=t.slice(0,n)),{type:t,name:e}})}(t+""),c=a.length;if(!(arguments.length<2)){for(l=e?u:i,null==n&&(n=!1),r=0;r<c;++r)this.each(l(a[r],e,n));return this}var l=this.node().__on;if(l)for(var s,f=0,p=l.length;f<p;++f)for(r=0,s=l[f];r<c;++r)if((o=a[r]).type===s.type&&o.name===s.name)return s.value},dispatch:function(t,e){return this.each(("function"==typeof e?function(t,e){return function(){return A(this,t,e.apply(this,arguments))}}:function(t,e){return function(){return A(this,t,e)}})(t,e))}};t.creator=P,t.local=e,t.matcher=F,t.mouse=function(t){var e=q();return e.changedTouches&&(e=e.changedTouches[0]),M(t,e)},t.namespace=T,t.namespaces=N,t.clientPoint=M,t.select=function(t){return"string"==typeof t?new S([[document.querySelector(t)]],[document.documentElement]):new S([[t]],V)},t.selectAll=function(t){return"string"==typeof t?new S([document.querySelectorAll(t)],[document.documentElement]):new S([null==t?[]:t],V)},t.selection=k,t.selector=I,t.selectorAll=B,t.style=d,t.touch=function(t,e,n){arguments.length<3&&(n=e,e=q().changedTouches);for(var r,o=0,i=e?e.length:0;o<i;++o)if((r=e[o]).identifier===n)return M(t,r);return null},t.touches=function(t,e){null==e&&(e=q().touches);for(var n=0,r=e?e.length:0,o=new Array(r);n<r;++n)o[n]=M(t,e[n]);return o},t.window=z,t.customEvent=function(e,n,r,o){var i=t.event;e.sourceEvent=t.event,t.event=e;try{return n.apply(r,o)}finally{t.event=i}},Object.defineProperty(t,"__esModule",{value:!0})})},{}],18:[function(t,e,n){e.exports=function(t){if(t){console.error(t,t.stack);var e="";t.name&&(e+=t.name+": "),e+=t.message,t.stack&&(e+=" | "+t.stack.toString()),function(t){var e=document.getElementById("status-message");e.textContent=t,e.classList.remove("hidden")}(e)}}},{}],19:[function(t,e,n){e.exports=function(t,e){for(var n=-1,r=t.length,o=Array(r);++n<r;)o[n]=e(t[n],n,t);return o}},{}],20:[function(t,e,n){function r(t,e,n){if(null!=t){void 0!==n&&n in u(t)&&(e=[n]);for(var r=0,o=e.length;null!=t&&r<o;)t=t[e[r++]];return r&&r==o?t:void 0}}function o(t,e){var n=typeof t;if("string"==n&&v.test(t)||"number"==n)return!0;if(p(t))return!1;return!h.test(t)||null!=e&&t in u(e)}function i(t){return t==t&&!c(t)}function u(t){return c(t)?t:Object(t)}function a(t){if(p(t))return t;var e=[];return function(t){return null==t?"":t+""}(t).replace(y,function(t,n,r,o){e.push(r?o.replace(g,"$1"):n||t)}),e}function c(t){var e=typeof t;return!!t&&("object"==e||"function"==e)}function l(t){return t}var s=t("lodash._baseisequal"),f=t("lodash._bindcallback"),p=t("lodash.isarray"),d=t("lodash.pairs"),h=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\n\\]|\\.)*?\1)\]/,v=/^\w*$/,y=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\n\\]|\\.)*?)\2)\]/g,g=/\\(\\)?/g;e.exports=function(t,e,n){var c=typeof t;return"function"==c?void 0===e?t:f(t,e,n):null==t?l:"object"==c?function(t){var e=function(t){for(var e=d(t),n=e.length;n--;)e[n][2]=i(e[n][1]);return e}(t);if(1==e.length&&e[0][2]){var n=e[0][0],r=e[0][1];return function(t){return null!=t&&t[n]===r&&(void 0!==r||n in u(t))}}return function(t){return function(t,e,n){var r=e.length,o=r,i=!n;if(null==t)return!o;for(t=u(t);r--;){var a=e[r];if(i&&a[2]?a[1]!==t[a[0]]:!(a[0]in t))return!1}for(;++r<o;){var c=(a=e[r])[0],l=t[c],f=a[1];if(i&&a[2]){if(void 0===l&&!(c in t))return!1}else{var p=n?n(l,f,c):void 0;if(!(void 0===p?s(f,l,n,!0):p))return!1}}return!0}(t,e)}}(t):void 0===e?function(t){return o(t)?function(t){return function(e){return null==e?void 0:e[t]}}(t):function(t){var e=t+"";return t=a(t),function(n){return r(n,t,e)}}(t)}(t):function(t,e){var n=p(t),c=o(t)&&i(e),l=t+"";return t=a(t),function(o){if(null==o)return!1;var i=l;if(o=u(o),(n||!c)&&!(i in o)){if(null==(o=1==t.length?o:r(o,function(t,e,n){var r=-1,o=t.length;(e=null==e?0:+e||0)<0&&(e=-e>o?0:o+e),(n=void 0===n||n>o?o:+n||0)<0&&(n+=o),o=e>n?0:n-e>>>0,e>>>=0;for(var i=Array(o);++r<o;)i[r]=t[r+e];return i}(t,0,-1))))return!1;i=function(t){var e=t?t.length:0;return e?t[e-1]:void 0}(t),o=u(o)}return o[i]===e?void 0!==e||i in o:s(e,o[i],void 0,!0)}}(t,e)}},{"lodash._baseisequal":25,"lodash._bindcallback":28,"lodash.isarray":39,"lodash.pairs":43}],21:[function(t,e,n){function r(t){return function(t){var e=typeof t;return!!t&&("object"==e||"function"==e)}(t)?t:Object(t)}var o=t("lodash.keys"),i=9007199254740991,u=function(t,e){return function(n,o){var u=n?c(n):0;if(!function(t){return"number"==typeof t&&t>-1&&t%1==0&&t<=i}(u))return t(n,o);for(var a=e?u:-1,l=r(n);(e?a--:++a<u)&&!1!==o(l[a],a,l););return n}}(function(t,e){return a(t,e,o)}),a=function(t){return function(e,n,o){for(var i=r(e),u=o(e),a=u.length,c=t?a:-1;t?c--:++c<a;){var l=u[c];if(!1===n(i[l],l,i))break}return e}}(),c=function(t){return function(e){return null==e?void 0:e[t]}}("length");e.exports=u},{"lodash.keys":41}],22:[function(t,e,n){e.exports=function(t,e,n,r){var o;return n(t,function(t,n,i){if(e(t,n,i))return o=r?n:t,!1}),o}},{}],23:[function(t,e,n){e.exports=function(t,e,n){for(var r=t.length,o=n?r:-1;n?o--:++o<r;)if(e(t[o],o,t))return o;return-1}},{}],24:[function(t,e,n){e.exports=function(t,e,n){if(null!=t){void 0!==n&&n in function(t){return function(t){var e=typeof t;return!!t&&("object"==e||"function"==e)}(t)?t:Object(t)}(t)&&(e=[n]);for(var r=0,o=e.length;null!=t&&r<o;)t=t[e[r++]];return r&&r==o?t:void 0}}},{}],25:[function(t,e,n){function r(t,e){for(var n=-1,r=t.length;++n<r;)if(e(t[n],n,t))return!0;return!1}function o(t,e,n,g,_,w){return t===e||(null==t||null==e||!function(t){var e=typeof t;return!!t&&("object"==e||"function"==e)}(t)&&!function(t){return!!t&&"object"==typeof t}(e)?t!=t&&e!=e:function(t,e,n,o,g,_,w){var j=i(t),x=i(e),O=l,A=l;j||((O=m.call(t))==c?O=h:O!=h&&(j=u(t)));x||((A=m.call(e))==c?A=h:A!=h&&(x=u(e)));var S=O==h,k=A==h,E=O==A;if(E&&!j&&!S)return function(t,e,n){switch(n){case s:case f:return+t==+e;case p:return t.name==e.name&&t.message==e.message;case d:return t!=+t?e!=+e:t==+e;case v:case y:return t==e+""}return!1}(t,e,O);if(!g){var N=S&&b.call(t,"__wrapped__"),T=k&&b.call(e,"__wrapped__");if(N||T)return n(N?t.value():t,T?e.value():e,o,g,_,w)}if(!E)return!1;_||(_=[]),w||(w=[]);var P=_.length;for(;P--;)if(_[P]==t)return w[P]==e;_.push(t),w.push(e);var C=(j?function(t,e,n,o,i,u,a){var c=-1,l=t.length,s=e.length;if(l!=s&&!(i&&s>l))return!1;for(;++c<l;){var f=t[c],p=e[c],d=o?o(i?p:f,i?f:p,c):void 0;if(void 0!==d){if(d)continue;return!1}if(i){if(!r(e,function(t){return f===t||n(f,t,o,i,u,a)}))return!1}else if(f!==p&&!n(f,p,o,i,u,a))return!1}return!0}:function(t,e,n,r,o,i,u){var c=a(t),l=c.length,s=a(e).length;if(l!=s&&!o)return!1;var f=l;for(;f--;){var p=c[f];if(!(o?p in e:b.call(e,p)))return!1}var d=o;for(;++f<l;){p=c[f];var h=t[p],v=e[p],y=r?r(o?v:h,o?h:v,p):void 0;if(!(void 0===y?n(h,v,r,o,i,u):y))return!1;d||(d="constructor"==p)}if(!d){var g=t.constructor,m=e.constructor;if(g!=m&&"constructor"in t&&"constructor"in e&&!("function"==typeof g&&g instanceof g&&"function"==typeof m&&m instanceof m))return!1}return!0})(t,e,n,o,g,_,w);return _.pop(),w.pop(),C}(t,e,o,n,g,_,w))}var i=t("lodash.isarray"),u=t("lodash.istypedarray"),a=t("lodash.keys"),c="[object Arguments]",l="[object Array]",s="[object Boolean]",f="[object Date]",p="[object Error]",d="[object Number]",h="[object Object]",v="[object RegExp]",y="[object String]",g=Object.prototype,b=g.hasOwnProperty,m=g.toString;e.exports=o},{"lodash.isarray":39,"lodash.istypedarray":40,"lodash.keys":41}],26:[function(t,e,n){var r=t("lodash._baseisequal");e.exports=function(t,e,n){var o=e.length,i=o,u=!n;if(null==t)return!i;for(t=function(t){return function(t){var e=typeof t;return!!t&&("object"==e||"function"==e)}(t)?t:Object(t)}(t);o--;){var a=e[o];if(u&&a[2]?a[1]!==t[a[0]]:!(a[0]in t))return!1}for(;++o<i;){var c=(a=e[o])[0],l=t[c],s=a[1];if(u&&a[2]){if(void 0===l&&!(c in t))return!1}else{var f=n?n(l,s,c):void 0;if(!(void 0===f?r(s,l,n,!0):f))return!1}}return!0}},{"lodash._baseisequal":25}],27:[function(t,e,n){function r(t){var e=typeof t;return!!t&&("object"==e||"function"==e)}var o=t("lodash._baseismatch"),i=t("lodash.pairs");e.exports=function(t){var e=function(t){for(var e=i(t),n=e.length;n--;)e[n][2]=function(t){return t==t&&!r(t)}(e[n][1]);return e}(t);if(1==e.length&&e[0][2]){var n=e[0][0],u=e[0][1];return function(t){return null!=t&&t[n]===u&&(void 0!==u||n in function(t){return r(t)?t:Object(t)}(t))}}return function(t){return o(t,e)}}},{"lodash._baseismatch":26,"lodash.pairs":43}],28:[function(t,e,n){function r(t){return t}e.exports=function(t,e,n){if("function"!=typeof t)return r;if(void 0===e)return t;switch(n){case 1:return function(n){return t.call(e,n)};case 3:return function(n,r,o){return t.call(e,n,r,o)};case 4:return function(n,r,o,i){return t.call(e,n,r,o,i)};case 5:return function(n,r,o,i,u){return t.call(e,n,r,o,i,u)}}return function(){return t.apply(e,arguments)}}},{}],29:[function(t,e,n){var r="[object Function]",o=/^\[object .+?Constructor\]$/,i=Object.prototype,u=Function.prototype.toString,a=i.hasOwnProperty,c=i.toString,l=RegExp("^"+u.call(a).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");e.exports=function(t,e){var n=null==t?void 0:t[e];return function(t){return null!=t&&(function(t){return function(t){var e=typeof t;return!!t&&("object"==e||"function"==e)}(t)&&c.call(t)==r}(t)?l.test(u.call(t)):function(t){return!!t&&"object"==typeof t}(t)&&o.test(t))}(n)?n:void 0}},{}],30:[function(t,e,n){var r=t("lodash.isarray"),o=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\n\\]|\\.)*?)\2)\]/g,i=/\\(\\)?/g;e.exports=function(t){if(r(t))return t;var e=[];return function(t){return null==t?"":t+""}(t).replace(o,function(t,n,r,o){e.push(r?o.replace(i,"$1"):n||t)}),e}},{"lodash.isarray":39}],31:[function(t,e,n){(function(t){function r(t,e){return t.set(e[0],e[1]),t}function o(t,e){return t.add(e),t}function i(t,e,n,r){var o=-1,i=t?t.length:0;for(r&&i&&(n=t[++o]);++o<i;)n=e(n,t[o],o,t);return n}function u(t){var e=!1;if(null!=t&&"function"!=typeof t.toString)try{e=!!(t+"")}catch(t){}return e}function a(t){var e=-1,n=Array(t.size);return t.forEach(function(t,r){n[++e]=[r,t]}),n}function c(t,e){return function(n){return t(e(n))}}function l(t){var e=-1,n=Array(t.size);return t.forEach(function(t){n[++e]=t}),n}function s(t){var e=-1,n=t?t.length:0;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}}function f(t){var e=-1,n=t?t.length:0;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}}function p(t){var e=-1,n=t?t.length:0;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}}function d(t){this.__data__=new f(t)}function h(t,e){var n=Qt(t)||function(t){return function(t){return function(t){return!!t&&"object"==typeof t}(t)&&S(t)}(t)&&_t.call(t,"callee")&&(!Et.call(t,"callee")||wt.call(t)==R)}(t)?function(t,e){for(var n=-1,r=Array(t);++n<t;)r[n]=e(n);return r}(t.length,String):[],r=n.length,o=!!r;for(var i in t)!e&&!_t.call(t,i)||o&&("length"==i||function(t,e){return!!(e=null==e?C:e)&&("number"==typeof t||ut.test(t))&&t>-1&&t%1==0&&t<e}(i,r))||n.push(i);return n}function v(t,e,n){var r=t[e];_t.call(t,e)&&A(r,n)&&(void 0!==n||e in t)||(t[e]=n)}function y(t,e){for(var n=t.length;n--;)if(A(t[n][0],e))return n;return-1}function g(t,e,n,c,s,f,p){var h;if(c&&(h=f?c(t,s,f,p):c(t)),void 0!==h)return h;if(!E(t))return t;var y=Qt(t);if(y){if(h=function(t){var e=t.length,n=t.constructor(e);e&&"string"==typeof t[0]&&_t.call(t,"index")&&(n.index=t.index,n.input=t.input);return n}(t),!e)return function(t,e){var n=-1,r=t.length;e||(e=Array(r));for(;++n<r;)e[n]=t[n];return e}(t,h)}else{var b=Xt(t),w=b==F||b==$;if(Jt(t))return function(t,e){if(e)return t.slice();var n=new t.constructor(t.length);return t.copy(n),n}(t,e);if(b==I||b==R||w&&!f){if(u(t))return f?t:{};if(h=function(t){return"function"!=typeof t.constructor||x(t)?{}:function(t){return E(t)?kt(t):{}}(St(t))}(w?{}:t),!e)return function(t,e){return _(t,Gt(t),e)}(t,function(t,e){return t&&_(e,N(e),t)}(h,t))}else{if(!at[b])return f?t:{};h=function(t,e,n,u){var c=t.constructor;switch(e){case X:return m(t);case D:case L:return new c(+t);case Q:return function(t,e){var n=e?m(t.buffer):t.buffer;return new t.constructor(n,t.byteOffset,t.byteLength)}(t,u);case J:case W:case Y:case K:case Z:case tt:case et:case nt:case rt:return function(t,e){var n=e?m(t.buffer):t.buffer;return new t.constructor(n,t.byteOffset,t.length)}(t,u);case q:return function(t,e,n){return i(e?n(a(t),!0):a(t),r,new t.constructor)}(t,u,n);case M:case z:return new c(t);case H:return function(t){var e=new t.constructor(t.source,ot.exec(t));return e.lastIndex=t.lastIndex,e}(t);case U:return function(t,e,n){return i(e?n(l(t),!0):l(t),o,new t.constructor)}(t,u,n);case V:return function(t){return Vt?Object(Vt.call(t)):{}}(t)}}(t,b,g,e)}}p||(p=new d);var j=p.get(t);if(j)return j;if(p.set(t,h),!y)var O=n?function(t){return function(t,e,n){var r=e(t);return Qt(t)?r:function(t,e){for(var n=-1,r=e.length,o=t.length;++n<r;)t[o+n]=e[n];return t}(r,n(t))}(t,N,Gt)}(t):N(t);return function(t,e){for(var n=-1,r=t?t.length:0;++n<r&&!1!==e(t[n],n,t););}(O||t,function(r,o){O&&(r=t[o=r]),v(h,o,g(r,e,n,c,o,t,p))}),h}function b(t){if(!E(t)||function(t){return!!bt&&bt in t}(t))return!1;return(k(t)||u(t)?jt:it).test(O(t))}function m(t){var e=new t.constructor(t.byteLength);return new At(e).set(new At(t)),e}function _(t,e,n,r){n||(n={});for(var o=-1,i=e.length;++o<i;){var u=e[o],a=r?r(n[u],t[u],u,n,t):void 0;v(n,u,void 0===a?t[u]:a)}return n}function w(t,e){var n=t.__data__;return function(t){var e=typeof t;return"string"==e||"number"==e||"symbol"==e||"boolean"==e?"__proto__"!==t:null===t}(e)?n["string"==typeof e?"string":"hash"]:n.map}function j(t,e){var n=function(t,e){return null==t?void 0:t[e]}(t,e);return b(n)?n:void 0}function x(t){var e=t&&t.constructor;return t===("function"==typeof e&&e.prototype||yt)}function O(t){if(null!=t){try{return mt.call(t)}catch(t){}try{return t+""}catch(t){}}return""}function A(t,e){return t===e||t!=t&&e!=e}function S(t){return null!=t&&function(t){return"number"==typeof t&&t>-1&&t%1==0&&t<=C}(t.length)&&!k(t)}function k(t){var e=E(t)?wt.call(t):"";return e==F||e==$}function E(t){var e=typeof t;return!!t&&("object"==e||"function"==e)}function N(t){return S(t)?h(t):function(t){if(!x(t))return Ct(t);var e=[];for(var n in Object(t))_t.call(t,n)&&"constructor"!=n&&e.push(n);return e}(t)}var T=200,P="__lodash_hash_undefined__",C=9007199254740991,R="[object Arguments]",D="[object Boolean]",L="[object Date]",F="[object Function]",$="[object GeneratorFunction]",q="[object Map]",M="[object Number]",I="[object Object]",B="[object Promise]",H="[object RegExp]",U="[object Set]",z="[object String]",V="[object Symbol]",G="[object WeakMap]",X="[object ArrayBuffer]",Q="[object DataView]",J="[object Float32Array]",W="[object Float64Array]",Y="[object Int8Array]",K="[object Int16Array]",Z="[object Int32Array]",tt="[object Uint8Array]",et="[object Uint8ClampedArray]",nt="[object Uint16Array]",rt="[object Uint32Array]",ot=/\w*$/,it=/^\[object .+?Constructor\]$/,ut=/^(?:0|[1-9]\d*)$/,at={};at[R]=at["[object Array]"]=at[X]=at[Q]=at[D]=at[L]=at[J]=at[W]=at[Y]=at[K]=at[Z]=at[q]=at[M]=at[I]=at[H]=at[U]=at[z]=at[V]=at[tt]=at[et]=at[nt]=at[rt]=!0,at["[object Error]"]=at[F]=at[G]=!1;var ct="object"==typeof t&&t&&t.Object===Object&&t,lt="object"==typeof self&&self&&self.Object===Object&&self,st=ct||lt||Function("return this")(),ft="object"==typeof n&&n&&!n.nodeType&&n,pt=ft&&"object"==typeof e&&e&&!e.nodeType&&e,dt=pt&&pt.exports===ft,ht=Array.prototype,vt=Function.prototype,yt=Object.prototype,gt=st["__core-js_shared__"],bt=function(){var t=/[^.]+$/.exec(gt&&gt.keys&&gt.keys.IE_PROTO||"");return t?"Symbol(src)_1."+t:""}(),mt=vt.toString,_t=yt.hasOwnProperty,wt=yt.toString,jt=RegExp("^"+mt.call(_t).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),xt=dt?st.Buffer:void 0,Ot=st.Symbol,At=st.Uint8Array,St=c(Object.getPrototypeOf,Object),kt=Object.create,Et=yt.propertyIsEnumerable,Nt=ht.splice,Tt=Object.getOwnPropertySymbols,Pt=xt?xt.isBuffer:void 0,Ct=c(Object.keys,Object),Rt=j(st,"DataView"),Dt=j(st,"Map"),Lt=j(st,"Promise"),Ft=j(st,"Set"),$t=j(st,"WeakMap"),qt=j(Object,"create"),Mt=O(Rt),It=O(Dt),Bt=O(Lt),Ht=O(Ft),Ut=O($t),zt=Ot?Ot.prototype:void 0,Vt=zt?zt.valueOf:void 0;s.prototype.clear=function(){this.__data__=qt?qt(null):{}},s.prototype.delete=function(t){return this.has(t)&&delete this.__data__[t]},s.prototype.get=function(t){var e=this.__data__;if(qt){var n=e[t];return n===P?void 0:n}return _t.call(e,t)?e[t]:void 0},s.prototype.has=function(t){var e=this.__data__;return qt?void 0!==e[t]:_t.call(e,t)},s.prototype.set=function(t,e){return this.__data__[t]=qt&&void 0===e?P:e,this},f.prototype.clear=function(){this.__data__=[]},f.prototype.delete=function(t){var e=this.__data__,n=y(e,t);return!(n<0||(n==e.length-1?e.pop():Nt.call(e,n,1),0))},f.prototype.get=function(t){var e=this.__data__,n=y(e,t);return n<0?void 0:e[n][1]},f.prototype.has=function(t){return y(this.__data__,t)>-1},f.prototype.set=function(t,e){var n=this.__data__,r=y(n,t);return r<0?n.push([t,e]):n[r][1]=e,this},p.prototype.clear=function(){this.__data__={hash:new s,map:new(Dt||f),string:new s}},p.prototype.delete=function(t){return w(this,t).delete(t)},p.prototype.get=function(t){return w(this,t).get(t)},p.prototype.has=function(t){return w(this,t).has(t)},p.prototype.set=function(t,e){return w(this,t).set(t,e),this},d.prototype.clear=function(){this.__data__=new f},d.prototype.delete=function(t){return this.__data__.delete(t)},d.prototype.get=function(t){return this.__data__.get(t)},d.prototype.has=function(t){return this.__data__.has(t)},d.prototype.set=function(t,e){var n=this.__data__;if(n instanceof f){var r=n.__data__;if(!Dt||r.length<T-1)return r.push([t,e]),this;n=this.__data__=new p(r)}return n.set(t,e),this};var Gt=Tt?c(Tt,Object):function(){return[]},Xt=function(t){return wt.call(t)};(Rt&&Xt(new Rt(new ArrayBuffer(1)))!=Q||Dt&&Xt(new Dt)!=q||Lt&&Xt(Lt.resolve())!=B||Ft&&Xt(new Ft)!=U||$t&&Xt(new $t)!=G)&&(Xt=function(t){var e=wt.call(t),n=e==I?t.constructor:void 0,r=n?O(n):void 0;if(r)switch(r){case Mt:return Q;case It:return q;case Bt:return B;case Ht:return U;case Ut:return G}return e});var Qt=Array.isArray,Jt=Pt||function(){return!1};e.exports=function(t){return g(t,!0,!0)}}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{}],32:[function(t,e,n){e.exports=function(t){for(var e=-1,n=t?t.length:0,r=0,o=[];++e<n;){var i=t[e];i&&(o[r++]=i)}return o}},{}],33:[function(t,e,n){(function(t){function n(t,e,n){switch(n.length){case 0:return t.call(e);case 1:return t.call(e,n[0]);case 2:return t.call(e,n[0],n[1]);case 3:return t.call(e,n[0],n[1],n[2])}return t.apply(e,n)}function r(t,e){return!!(t?t.length:0)&&function(t,e,n){if(e!=e)return function(t,e,n,r){var o=t.length,i=n+(r?1:-1);for(;r?i--:++i<o;)if(e(t[i],i,t))return i;return-1}(t,o,n);var r=n-1,i=t.length;for(;++r<i;)if(t[r]===e)return r;return-1}(t,e,0)>-1}function o(t){return t!=t}function i(t,e){for(var n=-1,r=t.length,o=0,i=[];++n<r;){var u=t[n];u!==e&&u!==m||(t[n]=m,i[o++]=n)}return i}function u(t){if(!v(t)||function(t){return!!Z&&Z in t}(t))return!1;return(function(t){var e=v(t)?nt.call(t):"";return e==D||e==L}(t)||function(t){var e=!1;if(null!=t&&"function"!=typeof t.toString)try{e=!!(t+"")}catch(t){}return e}(t)?rt:U).test(function(t){if(null!=t){try{return tt.call(t)}catch(t){}try{return t+""}catch(t){}}return""}(t))}function a(t){return function(){var e=arguments;switch(e.length){case 0:return new t;case 1:return new t(e[0]);case 2:return new t(e[0],e[1]);case 3:return new t(e[0],e[1],e[2]);case 4:return new t(e[0],e[1],e[2],e[3]);case 5:return new t(e[0],e[1],e[2],e[3],e[4]);case 6:return new t(e[0],e[1],e[2],e[3],e[4],e[5]);case 7:return new t(e[0],e[1],e[2],e[3],e[4],e[5],e[6])}var n=function(t){return v(t)?ot(t):{}}(t.prototype),r=t.apply(n,e);return v(r)?r:n}}function c(t,e,n,r,o,u,s,p,h,v){function y(){for(var _=arguments.length,w=Array(_),x=_;x--;)w[x]=arguments[x];if(j)var O=f(y),k=function(t,e){for(var n=t.length,r=0;n--;)t[n]===e&&r++;return r}(w,O);if(r&&(w=function(t,e,n,r){for(var o=-1,i=t.length,u=n.length,a=-1,c=e.length,l=it(i-u,0),s=Array(c+l),f=!r;++a<c;)s[a]=e[a];for(;++o<u;)(f||o<i)&&(s[n[o]]=t[o]);for(;l--;)s[a++]=t[o++];return s}(w,r,o,j)),u&&(w=function(t,e,n,r){for(var o=-1,i=t.length,u=-1,a=n.length,c=-1,l=e.length,s=it(i-a,0),f=Array(s+l),p=!r;++o<s;)f[o]=t[o];for(var d=o;++c<l;)f[d+c]=e[c];for(;++u<a;)(p||o<i)&&(f[d+n[u]]=t[o++]);return f}(w,u,s,j)),_-=k,j&&_<v){var E=i(w,O);return l(t,e,c,y.placeholder,n,w,E,p,h,v-_)}var N=b?n:this,T=m?N[t]:t;return _=w.length,p?w=function(t,e){var n=t.length,r=ut(e.length,n),o=function(t,e){var n=-1,r=t.length;for(e||(e=Array(r));++n<r;)e[n]=t[n];return e}(t);for(;r--;){var i=e[r];t[r]=d(i,n)?o[i]:void 0}return t}(w,p):A&&_>1&&w.reverse(),g&&h<_&&(w.length=h),this&&this!==J&&this instanceof y&&(T=S||a(T)),T.apply(N,w)}var g=e&k,b=e&_,m=e&w,j=e&(x|O),A=e&E,S=m?void 0:a(t);return y}function l(t,e,n,r,o,i,u,a,c,l){var s=e&x;e|=s?A:S,(e&=~(s?S:A))&j||(e&=~(_|w));var f=n(t,e,o,s?i:void 0,s?u:void 0,s?void 0:i,s?void 0:u,a,c,l);return f.placeholder=r,ct(f,t,e)}function s(t,e,r,o,u,s,p,d){var h=e&w;if(!h&&"function"!=typeof t)throw new TypeError(b);var v=o?o.length:0;if(v||(e&=~(A|S),o=u=void 0),p=void 0===p?p:it(g(p),0),d=void 0===d?d:g(d),v-=u?u.length:0,e&S){var y=o,m=u;o=u=void 0}var j=[t,e,r,o,u,y,m,s,p,d];if(t=j[0],e=j[1],r=j[2],o=j[3],u=j[4],!(d=j[9]=null==j[9]?h?0:t.length:it(j[9]-v,0))&&e&(x|O)&&(e&=~(x|O)),e&&e!=_)k=e==x||e==O?function(t,e,r){function o(){for(var a=arguments.length,s=Array(a),p=a,d=f(o);p--;)s[p]=arguments[p];var h=a<3&&s[0]!==d&&s[a-1]!==d?[]:i(s,d);return(a-=h.length)<r?l(t,e,c,o.placeholder,void 0,s,h,void 0,void 0,r-a):n(this&&this!==J&&this instanceof o?u:t,this,s)}var u=a(t);return o}(t,e,d):e!=A&&e!=(_|A)||u.length?c.apply(void 0,j):function(t,e,r,o){function i(){for(var e=-1,a=arguments.length,l=-1,s=o.length,f=Array(s+a),p=this&&this!==J&&this instanceof i?c:t;++l<s;)f[l]=o[l];for(;a--;)f[l++]=arguments[++e];return n(p,u?r:this,f)}var u=e&_,c=a(t);return i}(t,e,r,o);else var k=function(t,e,n){function r(){return(this&&this!==J&&this instanceof r?i:t).apply(o?n:this,arguments)}var o=e&_,i=a(t);return r}(t,e,r);return ct(k,t,e)}function f(t){return t.placeholder}function p(t,e){var n=function(t,e){return null==t?void 0:t[e]}(t,e);return u(n)?n:void 0}function d(t,e){return!!(e=null==e?T:e)&&("number"==typeof t||V.test(t))&&t>-1&&t%1==0&&t<e}function h(t,e,n){var r=s(t,x,void 0,void 0,void 0,void 0,void 0,e=n?void 0:e);return r.placeholder=h.placeholder,r}function v(t){var e=typeof t;return!!t&&("object"==e||"function"==e)}function y(t){if(!t)return 0===t?t:0;if((t=function(t){if("number"==typeof t)return t;if(function(t){return"symbol"==typeof t||function(t){return!!t&&"object"==typeof t}(t)&&nt.call(t)==F}(t))return C;if(v(t)){var e="function"==typeof t.valueOf?t.valueOf():t;t=v(e)?e+"":e}if("string"!=typeof t)return 0===t?t:+t;t=t.replace($,"");var n=H.test(t);return n||z.test(t)?G(t.slice(2),n?2:8):B.test(t)?C:+t}(t))===N||t===-N){return(t<0?-1:1)*P}return t==t?t:0}function g(t){var e=y(t),n=e%1;return e==e?n?e-n:e:0}var b="Expected a function",m="__lodash_placeholder__",_=1,w=2,j=4,x=8,O=16,A=32,S=64,k=128,E=512,N=1/0,T=9007199254740991,P=1.7976931348623157e308,C=NaN,R=[["ary",k],["bind",_],["bindKey",w],["curry",x],["curryRight",O],["flip",E],["partial",A],["partialRight",S],["rearg",256]],D="[object Function]",L="[object GeneratorFunction]",F="[object Symbol]",$=/^\s+|\s+$/g,q=/\{(?:\n\/\* \[wrapped with .+\] \*\/)?\n?/,M=/\{\n\/\* \[wrapped with (.+)\] \*/,I=/,? & /,B=/^[-+]0x[0-9a-f]+$/i,H=/^0b[01]+$/i,U=/^\[object .+?Constructor\]$/,z=/^0o[0-7]+$/i,V=/^(?:0|[1-9]\d*)$/,G=parseInt,X="object"==typeof t&&t&&t.Object===Object&&t,Q="object"==typeof self&&self&&self.Object===Object&&self,J=X||Q||Function("return this")(),W=Function.prototype,Y=Object.prototype,K=J["__core-js_shared__"],Z=function(){var t=/[^.]+$/.exec(K&&K.keys&&K.keys.IE_PROTO||"");return t?"Symbol(src)_1."+t:""}(),tt=W.toString,et=Y.hasOwnProperty,nt=Y.toString,rt=RegExp("^"+tt.call(et).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),ot=Object.create,it=Math.max,ut=Math.min,at=function(){var t=p(Object,"defineProperty"),e=p.name;return e&&e.length>2?t:void 0}(),ct=at?function(t,e,n){var o=e+"";return at(t,"toString",{configurable:!0,enumerable:!1,value:function(t){return function(){return t}}(function(t,e){var n=e.length,r=n-1;return e[r]=(n>1?"& ":"")+e[r],e=e.join(n>2?", ":" "),t.replace(q,"{\n/* [wrapped with "+e+"] */\n")}(o,function(t,e){return function(t,e){for(var n=-1,r=t?t.length:0;++n<r&&!1!==e(t[n],n,t););}(R,function(n){var o="_."+n[0];e&n[1]&&!r(t,o)&&t.push(o)}),t.sort()}(function(t){var e=t.match(M);return e?e[1].split(I):[]}(o),n)))})}:function(t){return t};h.placeholder={},e.exports=h}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{}],34:[function(t,e,n){function r(t,e,n){switch(n.length){case 0:return t.call(e);case 1:return t.call(e,n[0]);case 2:return t.call(e,n[0],n[1]);case 3:return t.call(e,n[0],n[1],n[2])}return t.apply(e,n)}function o(t,e){var n=x(t)||function(t){return function(t){return function(t){return!!t&&"object"==typeof t}(t)&&f(t)}(t)&&m.call(t,"callee")&&(!w.call(t,"callee")||_.call(t)==h)}(t)?function(t,e){for(var n=-1,r=Array(t);++n<t;)r[n]=e(n);return r}(t.length,String):[],r=n.length,o=!!r;for(var i in t)!e&&!m.call(t,i)||o&&("length"==i||l(i,r))||n.push(i);return n}function i(t,e,n,r){return void 0===t||s(t,b[n])&&!m.call(r,n)?e:t}function u(t,e,n){var r=t[e];m.call(t,e)&&s(r,n)&&(void 0!==n||e in t)||(t[e]=n)}function a(t){if(!p(t))return function(t){var e=[];if(null!=t)for(var n in Object(t))e.push(n);return e}(t);var e=function(t){var e=t&&t.constructor,n="function"==typeof e&&e.prototype||b;return t===n}(t),n=[];for(var r in t)("constructor"!=r||!e&&m.call(t,r))&&n.push(r);return n}function c(t,e){return e=j(void 0===e?t.length-1:e,0),function(){for(var n=arguments,o=-1,i=j(n.length-e,0),u=Array(i);++o<i;)u[o]=n[e+o];o=-1;for(var a=Array(e+1);++o<e;)a[o]=n[o];return a[e]=u,r(t,this,a)}}function l(t,e){return!!(e=null==e?d:e)&&("number"==typeof t||g.test(t))&&t>-1&&t%1==0&&t<e}function s(t,e){return t===e||t!=t&&e!=e}function f(t){return null!=t&&function(t){return"number"==typeof t&&t>-1&&t%1==0&&t<=d}(t.length)&&!function(t){var e=p(t)?_.call(t):"";return e==v||e==y}(t)}function p(t){var e=typeof t;return!!t&&("object"==e||"function"==e)}var d=9007199254740991,h="[object Arguments]",v="[object Function]",y="[object GeneratorFunction]",g=/^(?:0|[1-9]\d*)$/,b=Object.prototype,m=b.hasOwnProperty,_=b.toString,w=b.propertyIsEnumerable,j=Math.max,x=Array.isArray,O=function(t){return c(function(e,n){var r=-1,o=n.length,i=o>1?n[o-1]:void 0,u=o>2?n[2]:void 0;for(i=t.length>3&&"function"==typeof i?(o--,i):void 0,u&&function(t,e,n){if(!p(n))return!1;var r=typeof e;return!!("number"==r?f(n)&&l(e,n.length):"string"==r&&e in n)&&s(n[e],t)}(n[0],n[1],u)&&(i=o<3?void 0:i,o=1),e=Object(e);++r<o;){var a=n[r];a&&t(e,a,r,i)}return e})}(function(t,e,n,r){!function(t,e,n,r){n||(n={});for(var o=-1,i=e.length;++o<i;){var a=e[o],c=r?r(n[a],t[a],a,n,t):void 0;u(n,a,void 0===c?t[a]:c)}}(e,function(t){return f(t)?o(t,!0):a(t)}(e),t,r)}),A=c(function(t){return t.push(void 0,i),r(O,void 0,t)});e.exports=A},{}],35:[function(t,e,n){var r=t("lodash._basecallback"),o=t("lodash._baseeach"),i=t("lodash._basefind"),u=t("lodash._basefindindex"),a=t("lodash.isarray"),c=function(t,e){return function(n,o,c){if(o=r(o,c,3),a(n)){var l=u(n,o,e);return l>-1?n[l]:void 0}return i(n,o,t)}}(o);e.exports=c},{"lodash._basecallback":20,"lodash._baseeach":21,"lodash._basefind":22,"lodash._basefindindex":23,"lodash.isarray":39}],36:[function(t,e,n){var r=t("lodash._basematches"),o=t("lodash.find");e.exports=function(t,e){return o(t,r(e))}},{"lodash._basematches":27,"lodash.find":35}],37:[function(t,e,n){(function(t){function n(t,e){for(var n=-1,r=e.length,o=t.length;++n<r;)t[o+n]=e[n];return t}function r(t,e,i,u,a){var c=-1,l=t.length;for(i||(i=o),a||(a=[]);++c<l;){var s=t[c];e>0&&i(s)?e>1?r(s,e-1,i,u,a):n(a,s):u||(a[a.length]=s)}return a}function o(t){return b(t)||function(t){return function(t){return function(t){return!!t&&"object"==typeof t}(t)&&function(t){return null!=t&&function(t){return"number"==typeof t&&t>-1&&t%1==0&&t<=i}(t.length)&&!function(t){var e=function(t){var e=typeof t;return!!t&&("object"==e||"function"==e)}(t)?h.call(t):"";return e==a||e==c}(t)}(t)}(t)&&d.call(t,"callee")&&(!y.call(t,"callee")||h.call(t)==u)}(t)||!!(g&&t&&t[g])}var i=9007199254740991,u="[object Arguments]",a="[object Function]",c="[object GeneratorFunction]",l="object"==typeof t&&t&&t.Object===Object&&t,s="object"==typeof self&&self&&self.Object===Object&&self,f=l||s||Function("return this")(),p=Object.prototype,d=p.hasOwnProperty,h=p.toString,v=f.Symbol,y=p.propertyIsEnumerable,g=v?v.isConcatSpreadable:void 0,b=Array.isArray;e.exports=function(t){return t&&t.length?r(t,1):[]}}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{}],38:[function(t,e,n){var r=9007199254740991,o="[object Arguments]",i="[object Function]",u="[object GeneratorFunction]",a=Object.prototype,c=a.hasOwnProperty,l=a.toString,s=a.propertyIsEnumerable;e.exports=function(t){return function(t){return function(t){return!!t&&"object"==typeof t}(t)&&function(t){return null!=t&&function(t){return"number"==typeof t&&t>-1&&t%1==0&&t<=r}(t.length)&&!function(t){var e=function(t){var e=typeof t;return!!t&&("object"==e||"function"==e)}(t)?l.call(t):"";return e==i||e==u}(t)}(t)}(t)&&c.call(t,"callee")&&(!s.call(t,"callee")||l.call(t)==o)}},{}],39:[function(t,e,n){function r(t){return!!t&&"object"==typeof t}var o="[object Function]",i=/^\[object .+?Constructor\]$/,u=Object.prototype,a=Function.prototype.toString,c=u.hasOwnProperty,l=u.toString,s=RegExp("^"+a.call(c).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),f=9007199254740991,p=function(t,e){var n=null==t?void 0:t[e];return function(t){return null!=t&&(function(t){return function(t){var e=typeof t;return!!t&&("object"==e||"function"==e)}(t)&&l.call(t)==o}(t)?s.test(a.call(t)):r(t)&&i.test(t))}(n)?n:void 0}(Array,"isArray")||function(t){return r(t)&&function(t){return"number"==typeof t&&t>-1&&t%1==0&&t<=f}(t.length)&&"[object Array]"==l.call(t)};e.exports=p},{}],40:[function(t,e,n){var r=9007199254740991,o={};o["[object Float32Array]"]=o["[object Float64Array]"]=o["[object Int8Array]"]=o["[object Int16Array]"]=o["[object Int32Array]"]=o["[object Uint8Array]"]=o["[object Uint8ClampedArray]"]=o["[object Uint16Array]"]=o["[object Uint32Array]"]=!0,o["[object Arguments]"]=o["[object Array]"]=o["[object ArrayBuffer]"]=o["[object Boolean]"]=o["[object DataView]"]=o["[object Date]"]=o["[object Error]"]=o["[object Function]"]=o["[object Map]"]=o["[object Number]"]=o["[object Object]"]=o["[object RegExp]"]=o["[object Set]"]=o["[object String]"]=o["[object WeakMap]"]=!1;var i=Object.prototype.toString;e.exports=function(t){return function(t){return!!t&&"object"==typeof t}(t)&&function(t){return"number"==typeof t&&t>-1&&t%1==0&&t<=r}(t.length)&&!!o[i.call(t)]}},{}],41:[function(t,e,n){function r(t,e){return t="number"==typeof t||s.test(t)?+t:-1,e=null==e?d:e,t>-1&&t%1==0&&t<e}function o(t){return"number"==typeof t&&t>-1&&t%1==0&&t<=d}function i(t){for(var e=function(t){if(null==t)return[];u(t)||(t=Object(t));var e=t.length;e=e&&o(e)&&(l(t)||c(t))&&e||0;var n=t.constructor,i=-1,a="function"==typeof n&&n.prototype===t,s=Array(e),p=e>0;for(;++i<e;)s[i]=i+"";for(var d in t)p&&r(d,e)||"constructor"==d&&(a||!f.call(t,d))||s.push(d);return s}(t),n=e.length,i=n&&t.length,a=!!i&&o(i)&&(l(t)||c(t)),s=-1,p=[];++s<n;){var d=e[s];(a&&r(d,i)||f.call(t,d))&&p.push(d)}return p}function u(t){var e=typeof t;return!!t&&("object"==e||"function"==e)}var a=t("lodash._getnative"),c=t("lodash.isarguments"),l=t("lodash.isarray"),s=/^\d+$/,f=Object.prototype.hasOwnProperty,p=a(Object,"keys"),d=9007199254740991,h=function(t){return function(e){return null==e?void 0:e[t]}}("length"),v=p?function(t){var e=null==t?void 0:t.constructor;return"function"==typeof e&&e.prototype===t||"function"!=typeof t&&function(t){return null!=t&&o(h(t))}(t)?i(t):u(t)?p(t):[]}:i;e.exports=v},{"lodash._getnative":29,"lodash.isarguments":38,"lodash.isarray":39}],42:[function(t,e,n){function r(t,e){var n=-1,r=function(t){return null!=t&&function(t){return"number"==typeof t&&t>-1&&t%1==0&&t<=c}(l(t))}(t)?Array(t.length):[];return u(t,function(t,o,i){r[++n]=e(t,o,i)}),r}var o=t("lodash._arraymap"),i=t("lodash._basecallback"),u=t("lodash._baseeach"),a=t("lodash.isarray"),c=9007199254740991,l=function(t){return function(e){return null==e?void 0:e[t]}}("length");e.exports=function(t,e,n){var u=a(t)?o:r;return e=i(e,n,3),u(t,e)}},{"lodash._arraymap":19,"lodash._basecallback":20,"lodash._baseeach":21,"lodash.isarray":39}],43:[function(t,e,n){var r=t("lodash.keys");e.exports=function(t){t=function(t){return function(t){var e=typeof t;return!!t&&("object"==e||"function"==e)}(t)?t:Object(t)}(t);for(var e=-1,n=r(t),o=n.length,i=Array(o);++e<o;){var u=n[e];i[e]=[u,t[u]]}return i}},{"lodash.keys":41}],44:[function(t,e,n){function r(t,e){var n=typeof t;if("string"==n&&l.test(t)||"number"==n)return!0;if(u(t))return!1;return!c.test(t)||null!=e&&t in function(t){return function(t){var e=typeof t;return!!t&&("object"==e||"function"==e)}(t)?t:Object(t)}(e)}var o=t("lodash._baseget"),i=t("lodash._topath"),u=t("lodash.isarray"),a=t("lodash.map"),c=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\n\\]|\\.)*?\1)\]/,l=/^\w*$/;e.exports=function(t,e){return a(t,function(t){return r(t)?function(t){return function(e){return null==e?void 0:e[t]}}(t):function(t){var e=t+"";return t=i(t),function(n){return o(n,t,e)}}(t)}(e))}},{"lodash._baseget":24,"lodash._topath":30,"lodash.isarray":39,"lodash.map":42}],45:[function(t,e,n){function r(){throw new Error("setTimeout has not been defined")}function o(){throw new Error("clearTimeout has not been defined")}function i(t){if(s===setTimeout)return setTimeout(t,0);if((s===r||!s)&&setTimeout)return s=setTimeout,setTimeout(t,0);try{return s(t,0)}catch(e){try{return s.call(null,t,0)}catch(e){return s.call(this,t,0)}}}function u(){v&&d&&(v=!1,d.length?h=d.concat(h):y=-1,h.length&&a())}function a(){if(!v){var t=i(u);v=!0;for(var e=h.length;e;){for(d=h,h=[];++y<e;)d&&d[y].run();y=-1,e=h.length}d=null,v=!1,function(t){if(f===clearTimeout)return clearTimeout(t);if((f===o||!f)&&clearTimeout)return f=clearTimeout,clearTimeout(t);try{f(t)}catch(e){try{return f.call(null,t)}catch(e){return f.call(this,t)}}}(t)}}function c(t,e){this.fun=t,this.array=e}function l(){}var s,f,p=e.exports={};!function(){try{s="function"==typeof setTimeout?setTimeout:r}catch(t){s=r}try{f="function"==typeof clearTimeout?clearTimeout:o}catch(t){f=o}}();var d,h=[],v=!1,y=-1;p.nextTick=function(t){var e=new Array(arguments.length-1);if(arguments.length>1)for(var n=1;n<arguments.length;n++)e[n-1]=arguments[n];h.push(new c(t,e)),1!==h.length||v||i(a)},c.prototype.run=function(){this.fun.apply(null,this.array)},p.title="browser",p.browser=!0,p.env={},p.argv=[],p.version="",p.versions={},p.on=l,p.addListener=l,p.once=l,p.off=l,p.removeListener=l,p.removeAllListeners=l,p.emit=l,p.prependListener=l,p.prependOnceListener=l,p.listeners=function(t){return[]},p.binding=function(t){throw new Error("process.binding is not supported")},p.cwd=function(){return"/"},p.chdir=function(t){throw new Error("process.chdir is not supported")},p.umask=function(){return 0}},{}],46:[function(t,e,n){"use strict";var r=String.prototype.replace,o=/%20/g;e.exports={default:"RFC3986",formatters:{RFC1738:function(t){return r.call(t,o,"+")},RFC3986:function(t){return t}},RFC1738:"RFC1738",RFC3986:"RFC3986"}},{}],47:[function(t,e,n){"use strict";var r=t("./stringify"),o=t("./parse"),i=t("./formats");e.exports={formats:i,parse:o,stringify:r}},{"./formats":46,"./parse":48,"./stringify":49}],48:[function(t,e,n){"use strict";var r=t("./utils"),o=Object.prototype.hasOwnProperty,i={allowDots:!1,allowPrototypes:!1,arrayLimit:20,decoder:r.decode,delimiter:"&",depth:5,parameterLimit:1e3,plainObjects:!1,strictNullHandling:!1},u=function(t,e,n){if(t){var r=n.allowDots?t.replace(/\.([^.[]+)/g,"[$1]"):t,i=/(\[[^[\]]*])/g,u=/(\[[^[\]]*])/.exec(r),a=u?r.slice(0,u.index):r,c=[];if(a){if(!n.plainObjects&&o.call(Object.prototype,a)&&!n.allowPrototypes)return;c.push(a)}for(var l=0;null!==(u=i.exec(r))&&l<n.depth;){if(l+=1,!n.plainObjects&&o.call(Object.prototype,u[1].slice(1,-1))&&!n.allowPrototypes)return;c.push(u[1])}return u&&c.push("["+r.slice(u.index)+"]"),function(t,e,n){for(var r=e,o=t.length-1;o>=0;--o){var i,u=t[o];if("[]"===u)i=(i=[]).concat(r);else{i=n.plainObjects?Object.create(null):{};var a="["===u.charAt(0)&&"]"===u.charAt(u.length-1)?u.slice(1,-1):u,c=parseInt(a,10);!isNaN(c)&&u!==a&&String(c)===a&&c>=0&&n.parseArrays&&c<=n.arrayLimit?(i=[])[c]=r:i[a]=r}r=i}return r}(c,e,n)}};e.exports=function(t,e){var n=e?r.assign({},e):{};if(null!==n.decoder&&void 0!==n.decoder&&"function"!=typeof n.decoder)throw new TypeError("Decoder has to be a function.");if(n.ignoreQueryPrefix=!0===n.ignoreQueryPrefix,n.delimiter="string"==typeof n.delimiter||r.isRegExp(n.delimiter)?n.delimiter:i.delimiter,n.depth="number"==typeof n.depth?n.depth:i.depth,n.arrayLimit="number"==typeof n.arrayLimit?n.arrayLimit:i.arrayLimit,n.parseArrays=!1!==n.parseArrays,n.decoder="function"==typeof n.decoder?n.decoder:i.decoder,n.allowDots="boolean"==typeof n.allowDots?n.allowDots:i.allowDots,n.plainObjects="boolean"==typeof n.plainObjects?n.plainObjects:i.plainObjects,n.allowPrototypes="boolean"==typeof n.allowPrototypes?n.allowPrototypes:i.allowPrototypes,n.parameterLimit="number"==typeof n.parameterLimit?n.parameterLimit:i.parameterLimit,n.strictNullHandling="boolean"==typeof n.strictNullHandling?n.strictNullHandling:i.strictNullHandling,""===t||null===t||void 0===t)return n.plainObjects?Object.create(null):{};for(var a="string"==typeof t?function(t,e){for(var n={},r=e.ignoreQueryPrefix?t.replace(/^\?/,""):t,u=e.parameterLimit===1/0?void 0:e.parameterLimit,a=r.split(e.delimiter,u),c=0;c<a.length;++c){var l,s,f=a[c],p=f.indexOf("]="),d=-1===p?f.indexOf("="):p+1;-1===d?(l=e.decoder(f,i.decoder),s=e.strictNullHandling?null:""):(l=e.decoder(f.slice(0,d),i.decoder),s=e.decoder(f.slice(d+1),i.decoder)),o.call(n,l)?n[l]=[].concat(n[l]).concat(s):n[l]=s}return n}(t,n):t,c=n.plainObjects?Object.create(null):{},l=Object.keys(a),s=0;s<l.length;++s){var f=l[s],p=u(f,a[f],n);c=r.merge(c,p,n)}return r.compact(c)}},{"./utils":50}],49:[function(t,e,n){"use strict";var r=t("./utils"),o=t("./formats"),i={brackets:function(t){return t+"[]"},indices:function(t,e){return t+"["+e+"]"},repeat:function(t){return t}},u=Date.prototype.toISOString,a={delimiter:"&",encode:!0,encoder:r.encode,encodeValuesOnly:!1,serializeDate:function(t){return u.call(t)},skipNulls:!1,strictNullHandling:!1},c=function t(e,n,o,i,u,c,l,s,f,p,d,h){var v=e;if("function"==typeof l)v=l(n,v);else if(v instanceof Date)v=p(v);else if(null===v){if(i)return c&&!h?c(n,a.encoder):n;v=""}if("string"==typeof v||"number"==typeof v||"boolean"==typeof v||r.isBuffer(v)){if(c){return[d(h?n:c(n,a.encoder))+"="+d(c(v,a.encoder))]}return[d(n)+"="+d(String(v))]}var y=[];if(void 0===v)return y;var g;if(Array.isArray(l))g=l;else{var b=Object.keys(v);g=s?b.sort(s):b}for(var m=0;m<g.length;++m){var _=g[m];u&&null===v[_]||(y=Array.isArray(v)?y.concat(t(v[_],o(n,_),o,i,u,c,l,s,f,p,d,h)):y.concat(t(v[_],n+(f?"."+_:"["+_+"]"),o,i,u,c,l,s,f,p,d,h)))}return y};e.exports=function(t,e){var n=t,u=e?r.assign({},e):{};if(null!==u.encoder&&void 0!==u.encoder&&"function"!=typeof u.encoder)throw new TypeError("Encoder has to be a function.");var l=void 0===u.delimiter?a.delimiter:u.delimiter,s="boolean"==typeof u.strictNullHandling?u.strictNullHandling:a.strictNullHandling,f="boolean"==typeof u.skipNulls?u.skipNulls:a.skipNulls,p="boolean"==typeof u.encode?u.encode:a.encode,d="function"==typeof u.encoder?u.encoder:a.encoder,h="function"==typeof u.sort?u.sort:null,v=void 0!==u.allowDots&&u.allowDots,y="function"==typeof u.serializeDate?u.serializeDate:a.serializeDate,g="boolean"==typeof u.encodeValuesOnly?u.encodeValuesOnly:a.encodeValuesOnly;if(void 0===u.format)u.format=o.default;else if(!Object.prototype.hasOwnProperty.call(o.formatters,u.format))throw new TypeError("Unknown format option provided.");var b,m,_=o.formatters[u.format];"function"==typeof u.filter?n=(m=u.filter)("",n):Array.isArray(u.filter)&&(b=m=u.filter);var w=[];if("object"!=typeof n||null===n)return"";var j;j=u.arrayFormat in i?u.arrayFormat:"indices"in u?u.indices?"indices":"repeat":"indices";var x=i[j];b||(b=Object.keys(n)),h&&b.sort(h);for(var O=0;O<b.length;++O){var A=b[O];f&&null===n[A]||(w=w.concat(c(n[A],A,x,s,f,p?d:null,m,h,v,y,_,g)))}var S=w.join(l),k=!0===u.addQueryPrefix?"?":"";return S.length>0?k+S:""}},{"./formats":46,"./utils":50}],50:[function(t,e,n){"use strict";var r=Object.prototype.hasOwnProperty,o=function(){for(var t=[],e=0;e<256;++e)t.push("%"+((e<16?"0":"")+e.toString(16)).toUpperCase());return t}();n.arrayToObject=function(t,e){for(var n=e&&e.plainObjects?Object.create(null):{},r=0;r<t.length;++r)void 0!==t[r]&&(n[r]=t[r]);return n},n.merge=function(t,e,o){if(!e)return t;if("object"!=typeof e){if(Array.isArray(t))t.push(e);else{if("object"!=typeof t)return[t,e];(o.plainObjects||o.allowPrototypes||!r.call(Object.prototype,e))&&(t[e]=!0)}return t}if("object"!=typeof t)return[t].concat(e);var i=t;return Array.isArray(t)&&!Array.isArray(e)&&(i=n.arrayToObject(t,o)),Array.isArray(t)&&Array.isArray(e)?(e.forEach(function(e,i){r.call(t,i)?t[i]&&"object"==typeof t[i]?t[i]=n.merge(t[i],e,o):t.push(e):t[i]=e}),t):Object.keys(e).reduce(function(t,i){var u=e[i];return r.call(t,i)?t[i]=n.merge(t[i],u,o):t[i]=u,t},i)},n.assign=function(t,e){return Object.keys(e).reduce(function(t,n){return t[n]=e[n],t},t)},n.decode=function(t){try{return decodeURIComponent(t.replace(/\+/g," "))}catch(e){return t}},n.encode=function(t){if(0===t.length)return t;for(var e="string"==typeof t?t:String(t),n="",r=0;r<e.length;++r){var i=e.charCodeAt(r);45===i||46===i||95===i||126===i||i>=48&&i<=57||i>=65&&i<=90||i>=97&&i<=122?n+=e.charAt(r):i<128?n+=o[i]:i<2048?n+=o[192|i>>6]+o[128|63&i]:i<55296||i>=57344?n+=o[224|i>>12]+o[128|i>>6&63]+o[128|63&i]:(r+=1,i=65536+((1023&i)<<10|1023&e.charCodeAt(r)),n+=o[240|i>>18]+o[128|i>>12&63]+o[128|i>>6&63]+o[128|63&i])}return n},n.compact=function(t){for(var e=[{obj:{o:t},prop:"o"}],n=[],r=0;r<e.length;++r)for(var o=e[r],i=o.obj[o.prop],u=Object.keys(i),a=0;a<u.length;++a){var c=u[a],l=i[c];"object"==typeof l&&null!==l&&-1===n.indexOf(l)&&(e.push({obj:i,prop:c}),n.push(l))}return function(t){for(var e;t.length;){var n=t.pop();if(e=n.obj[n.prop],Array.isArray(e)){for(var r=[],o=0;o<e.length;++o)void 0!==e[o]&&r.push(e[o]);n.obj[n.prop]=r}}return e}(e)},n.isRegExp=function(t){return"[object RegExp]"===Object.prototype.toString.call(t)},n.isBuffer=function(t){return null!==t&&void 0!==t&&!!(t.constructor&&t.constructor.isBuffer&&t.constructor.isBuffer(t))}},{}],51:[function(t,e,n){var r=t("qs"),o=t("lodash.clonedeep"),i=t("lodash.defaults");e.exports=function(t){function e(){a(n())}function n(){return r.parse(c.location.hash.slice(1))}function u(t){var e=c.location.protocol+"//"+c.location.host+c.location.pathname+"#"+r.stringify(t);c.history.pushState(null,null,e)}var a,c;return t&&(a=t.followRoute,c=t.windowObject),c.onhashchange=e,{addToRoute:function(t){var e=i(o(t),n());u(e),a(e)},overwriteRouteEntirely:function(t){u(t),a(t)},routeFromHash:e,unpackEncodedRoute:function(t){var e=r.parse(decodeURIComponent(t));u(e),a(e)}}}},{"lodash.clonedeep":31,"lodash.defaults":34,qs:47}],52:[function(t,e,n){function r(t,e){return t.dist<e.dist?-1:1}var o=t("lodash.pluck");e.exports=function(t,e){var n=e.map(function(e,n){var r=e.col-t.col,o=e.row-t.row;return{index:n,dist:Math.sqrt(r*r+o*o)}}).sort(r);return o(n,"index")}},{"lodash.pluck":44}],53:[function(t,e,n){e.exports=function(t){var e;return t&&(e=t.log),function(t,n){return function(r){if(r)e&&(r.stack?e(r,r.stack):e(r)),n&&n(r);else if(t){var o=Array.prototype.slice.call(arguments,1);n&&o.push(n),t.apply(t,o)}}}}},{}],54:[function(t,e,n){e.exports=function({url:t,transformBody:e,done:n}){return function(r,o,i){r?n(r):i?o.statusCode<200||o.statusCode>299?n(new Error("statusCode "+o.statusCode+" received from: "+t)):n(null,e?e(i):i):n(new Error("Empty body received from: "+t))}}},{}],55:[function(t,e,n){function r(t){return t.takesSpace}function o(t){return"person"===t.type}function i(t){return!t.takesSpace}function u(t){return"meat"===t.type||"plant"===t.type}function a(t){return"poo"===t.type}function c(t,e){t(e,"empty")}var l=t("lodash.pluck"),s=t("lodash.curry");e.exports={solitude:function(t,e,n){var o;return e.filter(r).length<2&&(n(t,"empty"),o={instigator:t.id,source:[t.id],target:[t.id],event:"death",details:"too lonely"}),o},overpopulation:function(t,e,n){var o,i=e.filter(r);return i.length>=4&&(n(t,"empty"),o={instigator:t.id,sources:[l(i,"id")],targets:[t.id],event:"death",details:"too crowded"}),o},populate:function(t,e,n){var r,i=e.filter(o);return i.length>=3&&(n(t,"person"),r={instigator:t.id,sources:[l(i,"id")],targets:[t.id],event:"birth",details:"neighbors got together"}),r},selfDestruct:function(t,e,n){return n(t,"empty"),{instigator:t.id,source:[t.id],target:[t.id],event:"death",details:"unconditional decay"}},poops:function(t,e,n){var r=e.filter(i);if(r.length>0){var o=r[0];return n(o,"poo"),{instigator:t.id,sources:[t.id],targets:[o.id],event:"poop",details:"pooped"}}return n(t,"empty"),{instigator:t.id,sources:[t.id],targets:[t.id],event:"death",details:"died because there was nowhere to poop"}},aging:function(t){return isNaN(t.age)?t.age=1:t.age+=1,{instigator:t.id,sources:[t.id],targets:[t.id],event:"aging",details:"aged one step"}},eating:function(t,e,n){var r=e.filter(u);if(r.length>0){var o=r[0];return n(o,"empty"),isNaN(t.nutrition)?t.nutrition=1:t.nutrition+=1,{instigator:t.id,source:[t.id],target:[o.id],event:"eat",details:"Food eaten. nutrition increased to "+t.nutrition}}},metabolism:function(t){if(t.living&&!isNaN(t.nutrition))return t.nutrition-=1,{instigator:t.id,source:[t.id],target:[t.id],event:"metabolize",details:"Metabolized. Nutrition reduced to "+t.nutrition}},starvation:function(t,e,n){if(t.living&&t.nutrition<1)return n(t,"empty"),{instigator:t.id,source:[t.id],target:[t.id],event:"death",details:"starved"}},fertilization:function(t,e,n){var r=e.filter(a);if(a(t)&&r.push(t),r.length>=3){var o=r.slice(0,3);return o.forEach(s(c)(n)),n(t,"plant"),{instigator:t.id,sources:[l(o,"id")],targets:[t.id],event:"birth",details:"fertilizer critical mass grew plant"}}}}},{"lodash.curry":33,"lodash.pluck":44}]},{},[2]);